<h1>映画一覧</h1>

<%= form_with url: movies_path, method: :get, local: true do %>
<div class="field">
  <%= label_tag :keyword, "検索" %>
  <%= text_field_tag :keyword, params[:keyword], placeholder: "キーワードで検索する" %>
</div>
<div class="actions">
  <%= submit_tag "検索", class: "btn btn-primary" %>
</div>

<div class="field">
  <%= label_tag :is_showing, "公開中" %>
  <%= radio_button_tag :is_showing, "true", params[:is_showing] == "true" %>
  <%= label_tag :is_showing, "公開予定" %>
  <%= radio_button_tag :is_showing, "false", params[:is_showing] == "false" %>
</div>
<% end %>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>映画タイトル</th>
      <th>公開年</th>
      <th>上映中か</th>
      <th>概要</th>
      <th>画像URL</th>
      <th>作成日時</th>
      <th>更新日時</th>
    </tr>
  </thead>

  <tbody>
    <% @movies.each do |movie| %>
    <tr>
      <td><%= movie.id %></td>
      <td><%= movie.name %></td>
      <td><%= movie.year %></td>
      <td>
        <%= movie.is_showing ? "上映中" : "上映終了" %>
      </td>
      <td><%= movie.description %></td>
      <td><%= movie.image_url %></td>
      <td><%= movie.created_at %></td>
      <td><%= movie.updated_at %></td>
    </tr>
    <% end %>
  </tbody>
</table>